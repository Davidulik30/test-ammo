# Lightning Bolt Asset

–ì–æ—Ç–æ–≤—ã–π –∞—Å—Å–µ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–æ–ª–Ω–∏–∏ –≤ Godot 4.5+.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π –ø–∞–ø–∫—É `lightning ability/` –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã:
   - `Lightning.tscn` ‚Äî —Å—Ü–µ–Ω–∞ –º–æ–ª–Ω–∏–∏
   - `LightningBolt.gd` ‚Äî —Å–∫—Ä–∏–ø—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä
   - `line_mesh_generator.gd` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ—à–∞
   - `lightning_shader.gdshader` ‚Äî —à–µ–π–¥–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
   - `lightning_material.tres` ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```gdscript
# –°–æ–∑–¥–∞—ë—à—å —ç–∫–∑–µ–º–ø–ª—è—Ä —Å—Ü–µ–Ω—ã
var lightning = load("res://lightning ability/Lightning.tscn").instantiate()
add_child(lightning)

# –í—ã–∑—ã–≤–∞–µ—à—å –º–æ–ª–Ω–∏—é –æ—Ç —Ç–æ—á–∫–∏ A –¥–æ —Ç–æ—á–∫–∏ B
# Wave Count –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ü–£–õ–¨–°–ò–†–£–ï–¢ 1‚Üí10‚Üí1‚Üí10... –ü–û–°–¢–û–Ø–ù–ù–û! üå©Ô∏è
lightning.strike(Vector3(0, 0, 0), Vector3(10, 5, 0))
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä

```gdscript
func _process(_delta):
    lightning.update_positions(tank1.position, tank2.position)
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

```gdscript
# –®–∏—Ä–∏–Ω–∞ –º–æ–ª–Ω–∏–∏
lightning.set_width(1.5)

# –¶–≤–µ—Ç –º–æ–ª–Ω–∏–∏
lightning.set_color(Color.YELLOW)

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ª–Ω/–∏–∑–≥–∏–±–æ–≤
lightning.set_wave_count(3)

# –ê–º–ø–ª–∏—Ç—É–¥–∞ –≤–æ–ª–Ω
lightning.set_wave_amplitude(0.8)

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (–≥–ª–∞–¥–∫–æ—Å—Ç—å)
lightning.set_segments(20)

# –í–∏–¥–∏–º–æ—Å—Ç—å
lightning.set_bolt_visible(false)

# –û—Ç–∫–ª—é—á–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø—É–ª—å—Å–∏—Ä–æ–≤–∞–Ω–∏–µ wave_count
lightning.continuous_wave_pulse = false

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é wave_count –ø—Ä–∏ –≤—ã–∑–æ–≤–µ (—á—Ç–æ–±—ã –ø—Ä—ã–≥–∞–Ω–∏–µ –Ω–µ –±—ã–ª–æ –ø—Ä–∏ strike)
lightning.animate_wave_on_strike = false

# –ò–∑–º–µ–Ω–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –ø—É–ª—å—Å–∏—Ä–æ–≤–∞–Ω–∏—è (—Ü–∏–∫–ª—ã –≤ —Å–µ–∫—É–Ω–¥—É)
lightning.pulse_speed = 1.5  # –ú–µ–¥–ª–µ–Ω–Ω–µ–µ
lightning.pulse_speed = 4.0  # –ë—ã—Å—Ç—Ä–µ–µ
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```gdscript
var start = lightning.get_start_position()
var end = lightning.get_end_position()
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–ª–Ω–∏—é –ø—Ä—è–º–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ, –≤—ã–¥–µ–ª–∏—à—å —Å—Ü–µ–Ω—É –∏ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –Ω–∞–π–¥–µ—à—å:

- **Auto Spawn** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∞–≤–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ü–µ–Ω—ã
- **Start Position** ‚Äî –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
- **End Position** ‚Äî –∫–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
- **Animate Wave On Strike** ‚Äî –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å wave_count –ø—Ä–∏ —É–¥–∞—Ä–µ –º–æ–ª–Ω–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ)
- **Continuous Wave Pulse** ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—É–ª—å—Å–∏—Ä–æ–≤–∞—Ç—å wave_count (1‚Üí10‚Üí1...) (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ!)
- **Pulse Speed** ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –ø—É–ª—å—Å–∏—Ä–æ–≤–∞–Ω–∏—è wave_count (—Ü–∏–∫–ª—ã –≤ —Å–µ–∫—É–Ω–¥—É, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2.0)

–ê –≤ –¥–æ—á–µ—Ä–Ω–µ–º —É–∑–ª–µ `LineGenerator`:

- **Wave Count** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ª–Ω
- **Wave Amplitude** ‚Äî –≤—ã—Å–æ—Ç–∞ –≤–æ–ª–Ω
- **Width** ‚Äî —à–∏—Ä–∏–Ω–∞ –º–æ–ª–Ω–∏–∏
- **Segments** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –º–µ—à–∞
- **Color** ‚Äî —Ü–≤–µ—Ç

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —à–µ–π–¥–µ—Ä–∞

–¢—ã –º–æ–∂–µ—à—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –º–æ–ª–Ω–∏–∏ –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä, –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—è –∫–æ–¥:

1. –û—Ç–∫—Ä–æ–π —Å—Ü–µ–Ω—É `Lightning.tscn`
2. –í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –≤—ã–±–µ—Ä–∏ –¥–æ—á–µ—Ä–Ω–∏–π —É–∑–µ–ª `LineGenerator` ‚Üí `MeshInstance3D`
3. –í —Ä–∞–∑–¥–µ–ª–µ **Material Override** (–∏–ª–∏ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–µ) –Ω–∞–π–¥–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **Glow Intensity** (0-3) ‚Äî —è—Ä–∫–æ—Å—Ç—å —Å–≤–µ—á–µ–Ω–∏—è
- **Pulse Speed** (0-5) ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –ø—É–ª—å—Å–∞—Ü–∏–∏ –º–æ–ª–Ω–∏–∏
- **Flicker Intensity** (0-1) ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –º–µ—Ä—Ü–∞–Ω–∏—è
- **Base Color** ‚Äî –±–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç –º–æ–ª–Ω–∏–∏
- **Bright Color** ‚Äî —Ü–≤–µ—Ç —è—Ä–∫–æ–≥–æ –ø–∏–∫–∞ –ø—É–ª—å—Å–∞—Ü–∏–∏
- **Edge Glow** (0-2) ‚Äî —Å–≤–µ—á–µ–Ω–∏–µ –∫—Ä–∞—ë–≤
- **Branch Intensity** (0-1) ‚Äî –≤–∏–¥–∏–º–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–π
- **Branch Width** (0-0.3) ‚Äî —Ç–æ–ª—â–∏–Ω–∞ –≤–µ—Ç–≤–µ–π
- **Flow Speed** (0-10) ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å —Ç–µ—á–µ–Ω–∏—è –º–æ–ª–Ω–∏–∏
- **Flow Width** (0-1) ‚Äî —à–∏—Ä–∏–Ω–∞ —Å–≤–µ—Ç—è—â–µ–π—Å—è –ø–æ–ª–æ—Å—ã —Ç–µ—á–µ–Ω–∏—è

–ü—Ä–æ—Å—Ç–æ –º–µ–Ω—è–π –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–º–æ—Ç—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ!

## –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í —Å—Ü–µ–Ω–µ —Ç–∞–Ω–∫–∞ (–≤—ã—Å—Ç—Ä–µ–ª –º–æ–ª–Ω–∏–µ–π)

```gdscript
extends Node3D

@onready var lightning = preload("res://lightning ability/Lightning.tscn").instantiate()

func _ready():
    add_child(lightning)

func shoot_lightning(target_pos: Vector3):
    lightning.strike(global_position, target_pos)
```

### –í —Å–∏—Å—Ç–µ–º–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (—Å–ª–µ–¥—ã –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏)

```gdscript
var lightning_bolts = []

func create_connection_effect(obj1: Node3D, obj2: Node3D):
    var bolt = load("res://lightning ability/Lightning.tscn").instantiate()
    add_child(bolt)
    lightning_bolts.append(bolt)
    bolt.strike(obj1.global_position, obj2.global_position)

func _process(_delta):
    for bolt in lightning_bolts:
        bolt.update_positions(bolt.get_start_position(), bolt.get_end_position())
```

## –°–æ–≤–µ—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –º–Ω–æ–≥–æ –º–æ–ª–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π:

- –£–º–µ–Ω—å—à–∏—Ç—å `segments` (10-15 –≤–º–µ—Å—Ç–æ 20)
- –°–Ω–∏–∑–∏—Ç—å `wave_count` –¥–æ 1-2
- –û—Ç–∫–ª—é—á–∏—Ç—å –ª–∏—à–Ω–∏–µ –º–æ–ª–Ω–∏–∏ `set_bolt_visible(false)`

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**–ú–æ–ª–Ω–∏—è –Ω–µ –≤–∏–¥–Ω–∞:**
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å—Ü–µ–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –º–∏—Ä —á–µ—Ä–µ–∑ `add_child()`
- –ü—Ä–æ–≤–µ—Ä—å –∑–Ω–∞—á–µ–Ω–∏–µ `wave_amplitude` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0)

**–ú–æ–ª–Ω–∏—è –≤–∏–¥–Ω–∞, –Ω–æ –Ω–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏:**
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —à–µ–π–¥–µ—Ä (–æ–ø—Ü–∏—è `use_lightning_shader` –≤ LineGenerator)
- –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ `lightning_material.tres`

**–ü–∞–¥–∞–µ—Ç FPS:**
- –£–º–µ–Ω—å—à–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–ª–Ω–∏–π
- –°–Ω–∏–∑–∏ `segments` –≤ LineGenerator
